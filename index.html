<!doctype html>

<head>
    <title>The food championship</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
</head>
<body>
    <div id="header">
        <img src="img/header.png" alt="header image" width="80%" margin="auto">
    </div>

    <div id="menu">
        <a class="menuLinks" href="#start">Start</a>
        <div class="dropdown">
            <button class="dropbtn">
                Food categories
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <span class="tooltiptext">
                    <a href="#fats">Fats</a>
                    <a href="#meat">Meat Poultry Fish</a>
                    <a href="#dairy">Dairy</a>
                    <a href="#bread">Bread</a>
                    <a href="#snacks">Snacks</a>
                </span>
            </div>
        </div>
        <a class="menuLinks" href="#goal">Finish line</a>
        <div id="scoreBoard">FRA <p class="scores"id="franceScore">0</p> - <p class="scores" id="usScore">0</p> USA</div>
    </div>

    <div class="content">
        <div id="start">
            <h2>Start</h2>
            <h3>We all need to eat to live, but how many of us live to eat?</h3>
            <p>
                According to the World Health Organization (WHO), obesity is increasing. The definition of obesity is as follows:
            </p>
            <blockquote cite="https://www.who.int/news-room/fact-sheets/detail/obesity-and-overweight">
                <p><i>Overweight and obesity are defined as abnormal or excessive fat accumulation that may impair health.</i></p>
            </blockquote>
            <p> "Abnormal" fat accumulation is usually measured with Body Mass Index (BMI) for adults. A BMI over 25 is defined as overweight and a BMI over 30 is
                defined as obese. In 2016, 39% of adults worldwide were overweight and 13% were obese. WHO considers obesity an epidemic and calculated in 2017 that
                2.8 million people die every year due to being overweight or obese. Obesity is also considered an easily preventable epidemic by the WHO,
                as it in most cases can be prevented by consuming a healthy diet and doing physical exercise.
            </p>
            <p>
                In this analysis, packaged food products from two countries will by analysed by investigating 
                their nutritional information. Can one observe a relation between the nutrients in a country’s
                food and their current health status according the health indices given by the WHO? That is what
                we’re going to see today. 
            </p>
            <h3>Our Contestants</h3>
            <p>With noted overweight among 67,9% of the population and an average BMI of 29,1 our first contestant 
                is the big burger loving country on the other side of the Atlantic Ocean, <b>United States of America</b>.
            </p>
            <p>
                    Our other contestant brought us the Eiffel Tower and the riviera. <b>France</b> 
                    with one of the best average BMI in Europe, 25,6, 
                    this competitions favourite, but can they stand the pressure?
            </p>
            <div class="parent-table-container">
                <div class="table-container">
                    <table>
                        <colgroup span="3"></colgroup>
                        <thead>
                            <tr>
                                <th>Statistic</th>
                                <th>France</th>
                                <th>USA</th>
                            </tr>
                        </thead>
                        <tr>
                            <td>Overweight among adults</td>
                            <td>59.5%</td>
                            <td>67.9%</td>
                        </tr>
                        <tr>
                            <td>Obesity among adults</td>
                            <td>23.2%</td>
                            <td>37.3%</td>
                        </tr>
                        <tr>
                            <td>Overweight among children and adolescents 5-19 years</td>
                            <td>28.9%</td>
                            <td>41.2%</td>
                        </tr>
                        <tr>
                            <td>Obesity among children and adolescents 5-19 years</td>
                            <td>8.1%</td>
                            <td>21.4%</td>
                        </tr>
                        <tr>
                            <td>Mean Body Mass Index adults</td>
                            <td>25.6</td>
                            <td>29.1</td>
                        </tr>
                        <tr>
                            <td>Mean Body Mass Index 5-19 years</td>
                            <td>19.5</td>
                            <td>21.5</td>
                        </tr>
                        <tr>
                            <td>Blood glucose ≥126 mg/dl (7.0 mmol/l)</td>
                            <td>5.9%</td>
                            <td>7.3%</td>
                        </tr>
                    </table>
                </div>
            </div>
            <p class="table-caption">Table 1: Health statistics of France and United states</p>

            <h3>Data</h3>
            <p>
                The dataset used to investigate the nutritional ingredients in the products was the <i>Open Food Facts Database.</i> The database is a non-profit open
                database, which means anyone all over the world can use the data and contribute to the database. Within the database, <i>459371</i> products were labelled with
                France and <i>175661</i> products labelled with US. The data was extracted with the respect to the labels into two subsets. Since the French data set was significantly larger, 
                it was randomly down sampled to consist of the same amount of entries as the US dataset.
            </p>
            <p>
                During the analysis features regarding nutriments, such as energy per a 100g and sugars per a 100g, as well as product names and food categories were investigated. Names and
                food categories were used to categorize the data to compare nutritional values between the two countries with products in the same category.
                This was to make sure the comparisons would make sense: comparing the sugar content of a lollipop from the USA with the sugar content of a soup from
                France would not give a true image of the data.
            </p>
            <p>
                While the open nature of the database generates a lot of data, the contributions are, as of yet, not automatically checked. This generates a lot of
                missing values in the dataset, as well as errors and inconsistencies. To give both our contestants the best and equal opportunities the data was therefore cleaned as follows:
            </p>
            <ul>
                <li>Rows was removed where no product name or product category was defined</li>
                <li>Nutriments with values above 100g out of 100g was removed</li>
            </ul>
            <p>
                The last point was important because no nutriment can be more than a 100% of a product. Since each nutriment is defined per 100g, we set that the
                range should be between 0 and a 100. The only nutriment feature we did not do this for was energy_100g, as energy can be more than a 100 for a 100g.
            </p>
            <h3>Food categories</h3>
            <p>
                This competitions will consist of 5 rounds that each investigates one food category. 
                The five categories are:          
            </p>
            <ul>
                <li>Fats</li>
                <li>Meat, poultry, fish</li>
                <li>Dairy</li>
                <li>Bread</li>
                <li>Snacks</li>
            </ul>
            <p>
                Some of these categories are divided in to subcategories as well, for example the category Snacks is divided in to the subcategories Sugary snacks and
                Salty snacks. For each category, we have chosen different nutriments to focus on, such as sugars per 100g for Sugary snacks.
            </p>
            <p>
                The products were sorted into the categories by their label, product name and ingredient list. Let's look at the category Fats as an
                example. First, words were defined that are associated with fats, such as butter and oil. Both English and French words were used to make
                sure that as many matches as possible were found. Then, both datasets were queried to see the results of the filtering. 
                If the results contained unwanted products, a list of words that were not part of the category was defined. 
                This list was then used to filter away the wrongly classified data. As an example, “butter popcorn” was
                initially sorted to the fats category since it contains the word “butter”. However, “butter popcorn” are not
                a fat and should not be part of the fats-category. There for the word “popcorn” was added to the “not a fat word” list
            </p>
            <p>
                But enough with details, let’s start the competition. <b>May the best food country win!</b>
            </p>
        </div>
    </div>
    <div class="parralax" id="round1"></div>
    <div class="content">  
        <div id="fats">
            <h2>Fats</h2>
            <p>
                We start of this competition by studying the countries’ fats. This category contains products that can be considered as pure fats. This includes oil, butter, nut butter and different kinds of margarines. 
                The distribution for these subcategories can be seen in the following plot.                      
            </p>
            <p>
                <b>Please hover each plot to investigate them yourself!</b>
            </p>
            <figure class ="distributionFigure">
                <embed type="image/svg+xml" src="img/fats_distribution.svg" />
            </figure>
            <p>
                The distribution plot shows that France has more different oils and butter while the US
                stand out with a considerably higher percentage of peanut butters. As a side-note 
                we can also see that over half of the oils in France are olive oil, while olive oil 
                only corresponds to less than a fourth of the oils in the US.
            </p>
            <p>
                When studying fat it is really the relation between saturated fat and unsaturated fat one 
                are interesting in. Studies have shown that unsaturated fats have a positive effect on health 
                issues and reduces the blood cholesterol levels, but they also suggest that saturated fat have 
                the opposite effect. In the following plots we therefor investigate these fats further. 
            </p>
            <div class="nutri-dropdown">
                <button class="dropbtn">
                    Different fats
                </button>
                <div class="dropdown-content-nutri">
                    <a onclick="showPlot('fats_saturated-fat','fatsPlots')">Saturated fat</a>
                    <a onclick="showPlot('fats_monounsaturated-fat','fatsPlots')">Monusaturated fat</a>
                    <a onclick="showPlot('fats_polyunsaturated-fat','fatsPlots')">Polyunsaturated fat</a>
                </div>
            </div>
            <div class="plot-container">
                    <figure class ="plots fatsPlots" id="fats_saturated-fat">
                        <embed type="image/svg+xml" src="img/fats_saturated-fat.svg" />
                    </figure>
            
                    <figure class ="plots fatsPlots" id="fats_monounsaturated-fat">
                        <embed type="image/svg+xml" src="img/fats_monounsaturated-fat.svg" />
                    </figure>
                
                    <figure class ="plots fatsPlots" id="fats_polyunsaturated-fat">
                        <embed type="image/svg+xml" src="img/fats_polyunsaturated-fat.svg" />
                    </figure>
                 </div>
            <p>
                Here we see clearly that the US has France has a higher amount of saturated fat, 
                while the US has a higher amount of both monounsaturated fat and polyunsaturated fat. 
                Maybe the higher amount of nut butter and still a high amount of oil helps the US get 
                these good values. Anyway, this gives <b>US</b> the first point of this competition!
            </p>          
        </div>
    </div>
    <div class="parralax" id="round2"></div>
    <div class="content">
        <div id="meat">
            <h2>Meat Poultry Fish</h2>
            <p>
                In this round we will take a closer look on the meat, poultry and fish products. While the raw meats 
                will probably not differ that much in nutriments, the reasoning behind this category is that the
                countries might have products with meats but also additional ingredients, 
                for example ready to eat meals or a meat product marinated in some kind of sauce.
            </p>
            <p>
                Let's start off by looking at the differences for different nutriments.
            </p>
            <div class="nutri-dropdown">
                    <button class="dropbtn">
                        Nutriments
                    </button>
                    <div class="dropdown-content-nutri">
                        <a onclick="showPlot('meats_energy','meatsPlots')">Energy</a>
                        <a onclick="showPlot('meats_carbs','meatsPlots')">Carbohydrates</a>
                        <a onclick="showPlot('meats_fats','meatsPlots')">Fat</a>
                        <a onclick="showPlot('meats_proteins','meatsPlots')">Protein</a>
                        <a onclick="showPlot('meats_sugars','meatsPlots')">Sugar</a>
                    </div>
                </div>
    
                <div class="plot-container">
                    <figure class ="plots meatsPlots" id="meats_energy">
                        <embed type="image/svg+xml" src="img/meats_energy.svg" />
                    </figure>
            
                    <figure class ="plots meatsPlots" id="meats_carbs">
                        <embed type="image/svg+xml" src="img/meats_carbs.svg" />
                    </figure>
                
                    <figure class ="plots meatsPlots" id="meats_fats">
                        <embed type="image/svg+xml" src="img/meats_fats.svg" />
                    </figure>

                    <figure class ="plots meatsPlots" id="meats_proteins">
                        <embed type="image/svg+xml" src="img/meats_proteins.svg" />
                    </figure>

                    <figure class ="plots meatsPlots" id="meats_sugars">
                        <embed type="image/svg+xml" src="img/meats_sugars.svg" />
                    </figure>
                 </div>
            <p>
                We immediately observe that the amount of energy per 100g seems to be very similar for meat items from the two countries.
                We also protein levels for the two different countries seems to be fairly equal.
                However, as can be seen in the box plot for carbohydrates food items from US seems to contain much more per 100g 
                than the products from France. This observation could, as mentioned in the introduction of this category, be 
                explained by that the different countries prepare the food differently. A common prejudice is that
                US products often are fried in oil, have a larger amount of sauces, have more marinated items or more items that comes
                wrapped in bread. Maybe this observation could support that theory?
            </p>
            <p>
                To further investigate, we look at the amount of fat per 100g. Here we can see that the values for the US are actually lower, 
                which would suggest that the hypothesis of that more things are fried in oil in the US is wrong. So where does the big difference in fat come from?
                In our data analysis we took a closer look at the France data, 
                and found out that 76.84% of the meat items from France that have between 50g and 80g of fat per 100g are <i>Foie Gras</i>. This is something that 
                might explain the possibly surprising difference in amount of fats between the two countries, as foie gras is a typical French dish which is not really
                that common in the US.
            </p>
            <p>
                Lastly, the amount of sugar is considerably higher in the US than in France. This is no surprise given the results of the carbohydrates since the two
                are often correlated. 
            </p>
            <p>
                    It’s time to wrap up this round. To conclude this category, we have seen that in general,
                    the amount of energy per 100g for the category is about the same for the both countries.
                    However, there is a rather clear difference in where the energy is stored. For the US products 
                    the energy is stored in carbohydrates and mainly sugar. For products from France the energy is 
                    stored in the fat. To decide which one is the “most healthy” here is a bit controversial, as the 
                    healthiness of fat is not well defined. In general though, eating 
                    large amounts of sugar is never recommended since it contains a lot of energy and 
                    might have a bad influence on the blood sugar level. For this reason,
                    this round goes to France.
            </p>
        </div>
    </div>
    <div class="parralax" id="round3"></div>
    <div class="content">
        <div id="dairy">
            <h2>Dairy</h2>
            <p>
                So far the competition is still open, but we won’t stop here, let’s continue with the dairy products. 
            </p>
            <p>
                This category consists of for example yoghurt, milk or cheese. To get a feeling for the different kinds of subcategories have a look at the distribution.
                Since we already covered the fats, butter have been removed from this category.
            </p>
            <figure class="plots">
                    <embed type="image/svg+xml" src="img/dairy_distribution.svg" />
            </figure>
            <p> 
                The distribution of the products within dairy shows that a large portion of the dairy items in both 
                the US and France are cheese-related items. As an interesting side-note please hover the cheese bar.
                The distribution also shows that the US has almost the double amount of ice cream compared to France, 
                and that France has almost double the amount 
                of milk compared to the US. 
            </p>
            <p>
                We now take a look at the nutrients. Firstly, one radar plot for sugar, carbohydrates, proteins, fat and the different types of fat, e.g. saturated, monounsaturated or polyunsaturated fat.
                Secondly one regular bar plot for sodium and calcium. In the radar plot, the values
                are given in grams and are of equal size, while in the plot for sodium and calcium, 
                the values are given as a fraction of the recommended daily intake. 
            </p>
            <figure class ="plots">
                <embed type="image/svg+xml" src="img/dairy_nutri_radar_big.svg" />
            </figure>
            <figure class ="plots">
                <embed type="image/svg+xml" src="img/dairy_nutri_small.svg" />
            </figure>
            <p>
                Even though the US have both more unsaturated fat and proteins in their dairy food it still doesn’t compensate the fact that their food also contains twice as mush saturated fat, sugar and carbohydrates. The food from France have a lower amount of sodium and more calcium. 
                
                These are all the reasons why this round goes to <b>France</b>.    
            </p>
        </div>
    </div>
    <div class="parralax" id="round4"></div>
    <div class="content">
        <div id="bread">
            <h2>Bread</h2>
            Now it is time for round 4! <br>
            In this category we compare the breads between the two countries.
            This does not include cookies, biscuits and sugary snacks made of grains.
            The first discovery made was there is a higher number of bread-related items in
            the US compared to France, <i>5404</i> compared to <i>3107</i>. 
            Maybe the local bakeries in France is the reason for this? In France it is common
            to go and buy fresh bread in a bakery instead of going to the supermarket. 
            This could be the reason for the lower amount of packaged bread in France.
        </div>
        <br>
        <div class="nutri-dropdown">
                <button class="dropbtn">
                    Nutriments
                </button>
                <div class="dropdown-content-nutri">
                    <a onclick="showPlot('breads_energy','breadsPlots')">Energy</a>
                    <a onclick="showPlot('breads_carbs','breadsPlots')">Carbohydrates</a>
                    <a onclick="showPlot('breads_fats','breadsPlots')">Fat</a>
                    <a onclick="showPlot('breads_fiber','breadsPlots')">Fiber</a>
                    <a onclick="showPlot('breads_sugars','breadsPlots')">Sugar</a>
                </div>
            </div>

            <div class="plot-container">
                <figure class ="plots breadsPlots" id="breads_energy">
                    <embed type="image/svg+xml" src="img/breads_energy.svg" />
                </figure>
        
                <figure class ="plots breadsPlots" id="breads_carbs">
                    <embed type="image/svg+xml" src="img/breads_carbs.svg" />
                </figure>
            
                <figure class ="plots breadsPlots" id="breads_fats">
                    <embed type="image/svg+xml" src="img/breads_fats.svg" />
                </figure>

                <figure class ="plots breadsPlots" id="breads_fiber">
                    <embed type="image/svg+xml" src="img/breads_fiber.svg" />
                </figure>

                <figure class ="plots breadsPlots" id="breads_sugars">
                    <embed type="image/svg+xml" src="img/breads_sugars.svg" />
                </figure>
             </div>
        <p>
            When comparing the bread products, it is possible to see that the energy values are very similar. 
            However, when it comes to carbohydrates, the bread from US definitely contains more. 
            Nevertheless, the French bread is not all perfect. In fact, the bread items from US have less
            sugar per 100g than bread from France. This is unexpected, since carbohydrates and sugars often
            correlate. An explanation could be that France has more light bread with more white sugar than the US, 
            so that the carbohydrates in the US bread comes from the grains rather 
            than the sugar. This hypothesis is strengthened when looking at the fiber per 100g, where the US 
            has more (note that this plot is logarithmic).
        </p>
        <p>
            The difference in the amount of fat between the two countries is not very big,
            with France having just a little bit more in general. A guess of what could be causing
            this is that the bread in France in general have more butter and oil on it.
        </p>
        <p>
            Based on the stated observations, we conclude that the US has darker bread with less butter and oil on it compared to the bread from France. Both more darkness as well 
            as less butter/oil are things that we consider as good things, which is the reason the US wins this round. 
        </p>
    </div>
    <div class="parralax" id="round5"></div>
    <div class="content">
        <div id="snacks">
            <h2>Snacks</h2>
            <p>
                
                This category is divided in to two subcategories, Sugary snacks and Salty snacks. These also have smaller categories within themselves, such as
                Chocolates in Sugary snacks. The total amount of snacks in the France dataset was 22 364 while the USA had 31 544 entries. At the moment it is hard
                to know if this depends on the products added to the database or if the USA genuinely has more snacks than France does.
            </p>
            <h3>Sugary snacks</h3>
            <p>
                In the graph the distribution of the subcategories in Sugary snacks is shown. France had a total of 18 164 sugary snacks and the USA has 11 177.
                As we can see, Chocolates are in the majority for both countries. However France still has a higher percentage of Chocolates than the USA does.
                Candy is the smallest category for both countries.
            </p>        
            <figure class="distributionFigure">
                <embed type="image/svg+xml" src="img/sugary_snacks_distribution.svg" />
            </figure>
            <p>
                For sugary snacks, we looked closer at the feature sugars per 100g and energy per 100g. Note that a maximum of 100 in the boxplot comes from higher
                values that were sampled down to 100.
            </p>

            <div class="nutri-dropdown">
                <button onclick="nutriFunc" class="dropbtn" >
                    Nutriments
                </button>
                <div class="dropdown-content-nutri">
                    <a onclick="showPlot('snacks_sugary_sugars','snacksPlots')">Sugars</a>
                    <a onclick="showPlot('snacks_sugary_carbohydrates','snacksPlots')">Carbohydrates</a>
                    <a onclick="showPlot('snacks_sugary_servings','snacksPlots')">Serving quantity</a>
                    <a onclick="showPlot('snacks_sugary_energy_france','snacksPlots')">Energy France</a>
                    <a onclick="showPlot('snacks_sugary_energy_usa','snacksPlots')">Energy USA</a>
                </div>
            </div>

            <div class="plot-container">
                <figure class="plots snacksPlots"   id="snacks_sugary_sugars">
                        <embed type="image/svg+xml" src="img/snacks_sugars.svg" />
                </figure>
                <figure class="plots snacksPlots"   id="snacks_sugary_carbohydrates">
                        <embed type="image/svg+xml" src="img/snacks_sugary_carbohydrates.svg" />
                </figure>
                <figure class="plots snacksPlots"   id="snacks_sugary_servings">
                        <embed type="image/svg+xml" src="img/snacks_sugary_servings.svg" />
                </figure>
                <figure class ="plots snacksPlots" id="snacks_sugary_energy_france">
                    <embed type="image/svg+xml" src="img/energy_sugary_snacks_france_hist.svg" />
                </figure>
                <figure class ="plots snacksPlots" id="snacks_sugary_energy_usa">
                    <embed type="image/svg+xml" src="img/energy_sugary_snacks_usa_hist.svg" />
                </figure>
             </div>


            <p>
                Hovering over the boxes in the boxplot will show facts about the nutriment. If we choose sugars per 100g, we will see that the maximum amount for
                both France and USA is 100. The most interesting part is not the outliers, which are the dots outside the boxes, but rather the values within the box.
                USA has in general higher sugar per 100g than France does, but the difference is minimal.
            </p>
            <h3>Salty snacks</h3>          
            <figure class="plots " >
                <embed type="image/svg+xml" src="img/salty_snacks_distribution.svg" />
            </figure>
            <p>
                The distribution of the subcategories in Salty snacks is shown in the graph. Compared to Sugary snacks, we only defined two subcategories. USA
                has more Salty snacks than France in general. Chips is the largest category for both countries.
                Hover over the bars to see the exact percentage of each category for the different countries.
            </p>
            <p>Different nutriments</p>
            <div class="nutri-dropdown">
                <button onclick="nutriFunc" class="dropbtn" >
                    Nutriments
                </button>
                <div class="dropdown-content-nutri">
                    <a onclick="showPlot('snacks_salty_sodium','snacks_saltyPlots')">Sodium</a>
                    <a onclick="showPlot('snacks_salty_fats','snacks_saltyPlots')">Fats</a>
                    <a onclick="showPlot('snacks_salty_saturated_fats','snacks_saltyPlots')">Saturated fats</a>
                    <a onclick="showPlot('snacks_salty_carbohydrates','snacks_saltyPlots')">Carbohydrates</a>
                    <a onclick="showPlot('snacks_salty_servings','snacks_saltyPlots')">Serving quantity</a>
                    <a onclick="showPlot('snacks_salty_energy_france','snacks_saltyPlots')">Energy France</a>
                    <a onclick="showPlot('snacks_salty_energy_usa','snacks_saltyPlots')">Energy USA</a>
                </div>
            </div>

            <div class="plot-container">
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_sodium">
                        <embed type="image/svg+xml" src="img/snacks_salty_sodium.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_fats">
                        <embed type="image/svg+xml" src="img/snacks_salty_fats.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_saturated_fats">
                        <embed type="image/svg+xml" src="img/snacks_salty_saturated_fats.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_carbohydrates">
                        <embed type="image/svg+xml" src="img/snacks_salty_carbohydrates.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_servings">
                        <embed type="image/svg+xml" src="img/snacks_salty_servings.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_energy_france">
                        <embed type="image/svg+xml" src="img/energy_salty_snacks_france_hist.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_energy_usa">
                        <embed type="image/svg+xml" src="img/energy_salty_snacks_usa_hist.svg" />
                </figure>
            </div>

        </div>
    </div>
    <div class="parralax" id="roundGoal"></div>
    <div class="content"> 
        <div id="goal">
            <h2>Who won</h2>
        </div>

    </div>
</body>
<script src="js/script.js"></script>