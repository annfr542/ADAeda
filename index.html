<!doctype html>

<head>
    <title>The food championship</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
</head>
<body>
    <div id="header">
        <img src="img/header.png" alt="header image" width="80%" margin="auto">
    </div>

    <div id="menu">
        <a class="menuLinks" href="#start">Start</a>
        <div class="dropdown">
            <button class="dropbtn">
                Food categories
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <span class="tooltiptext">
                    <a href="#fats">Fats</a>
                    <a href="#meat">Meat Poultry Fish</a>
                    <a href="#dairy">Dairy</a>
                    <a href="#bread">Bread</a>
                    <a href="#snacks">Snacks</a>
                </span>
            </div>
        </div>
        <a class="menuLinks" href="#goal">Finish line</a>
    </div>

    <div class="content">
        <div id="start">
            <h2>Start</h2>
            <h3>We all need to eat to live, but how many of us live to eat?</h3>
            <p>
                According to the World Health Organization (WHO), obesity is increasing. The definition of obesity is as follows:
            </p>
            <blockquote cite="https://www.who.int/news-room/fact-sheets/detail/obesity-and-overweight">
                <p>Overweight and obesity are defined as abnormal or excessive fat accumulation that may impair health.</p>
            </blockquote>
            <p> "Abnormal" fat accumulation is usally measured with Body Mass Index (BMI) for adults. A BMI over 25 is defined as overweight and a BMI over 30 is
                defined as obese. In 2016, 39% of adults worldwide were overweight and 13% were obese. WHO considers obesity an epidemic and calculated in 2017 that
                2.8 million people die every year due to being overweight or obese. Obesity is also considered an easily preventable epidemic by the WHO,
                as it in most cases can be prevented by a eating a healthy diet and doing physical exercise.
            </p>
            <p>
                In this data analysis, health statistics from two different countries, France and the USA, will be compared in combination with nutritional facts
                about packaged foods sold in these countries. In the analysis we will investigate whether the nutritional information,
                for example high sugar content, can be said to contribute to the health statistics.
            </p>

            <h3>Health statistics</h3>
            <p>
                WHO has compiled several statistics regarding health and obesity for most countries in the world. 
                A subset of the statistics will be used in the analysis, and the chosen ones can be seen in Table 1.
            </p>
            <div class="parent-table-container">
                <div class="table-container">
                    <table>
                        <colgroup span="3"></colgroup>
                        <thead>
                            <tr>
                                <th>Statistic</th>
                                <th>France</th>
                                <th>USA</th>
                            </tr>
                        </thead>
                        <tr>
                            <td>Population</td>
                            <td>64721.0</td>
                            <td>322180.0</td>
                        </tr>
                        <tr>
                            <td>Life expectancy at birth</td>
                            <td>82.9</td>
                            <td>78.5</td>
                        </tr>
                        <tr>
                            <td>Life expectancy at age 60</td>
                            <td>21.8</td>
                            <td>23.3</td>
                        </tr>
                        <tr>
                            <td>Healty life expectancy (HALE) at birth</td>
                            <td>68.5</td>
                            <td>68.5</td>
                        </tr>
                        <tr>
                            <td>Healty life expectancy (HALE) at age 60</td>
                            <td>16.9</td>
                            <td>17.8</td>
                        </tr>
                        <tr>
                            <td>Nutritional deficiencies</td>
                            <td>0.006518</td>
                            <td>0.002986</td>
                        </tr>
                        <tr>
                            <td>Protein-energy malnutrition</td>
                            <td>0.005111</td>
                            <td>0.001966</td>
                        </tr>
                        <tr>
                            <td>Iodine deficiency</td>
                            <td>0.000001</td>
                            <td>0.000001</td>
                        </tr>
                        <tr>
                            <td>Iron-deficiency anaemia</td>
                            <td>0.001236</td>
                            <td>0.000924</td>
                        </tr>
                        <tr>
                            <td>Other nutritional deficiencies</td>
                            <td>0.000155</td>
                            <td>0.000096</td>
                        </tr>
                        <tr>
                            <td>Diabetes mellitus</td>
                            <td>0.019121</td>
                            <td>0.026175</td>
                        </tr>
                        <tr>
                            <td>Ischaemic heart disease</td>
                            <td>0.095569</td>
                            <td>0.155290</td>
                        </tr>
                        <tr>
                            <td>Overweight among adults</td>
                            <td>59.5</td>
                            <td>67.9</td>
                        </tr>
                        <tr>
                            <td>Obesity among adults</td>
                            <td>23.2</td>
                            <td>37.3</td>
                        </tr>
                        <tr>
                            <td>Overweight among children and adolescents</td>
                            <td>28.9</td>
                            <td>41.2</td>
                        </tr>
                        <tr>
                            <td>Obesity among children and adolescents</td>
                            <td>8.1</td>
                            <td>21.4</td>
                        </tr>
                        <tr>
                            <td>Mean Body Mass Index adults</td>
                            <td>25.6</td>
                            <td>29.1</td>
                        </tr>
                        <tr>
                            <td>Mean Body Mass Index 5-19 years</td>
                            <td>19.5</td>
                            <td>21.5</td>
                        </tr>
                        <tr>
                            <td>Blood glucose</td>
                            <td>5.9</td>
                            <td>7.3</td>
                        </tr>
                    </table>
                </div>
            </div>
            <p class="table-caption">Table 1: Health statistics of France and USA</p>
            <p style="color: red">Säga något mer??</p>
            <h3>Data</h3>
            <p>
               The dataset used to get nutritional facts about packaged foods in this analysis is the Open Food Facts database. The database is a non-profit open
               database, which means anyone all over the world can use the data and contribute to the database. In the database, there exists 459371 products from 
               France and 175661 products from the USA, which we divided in to two datasets, one for each country. We also downsampled the France dataset as it is
               significantly larger than the USA dataset.
            </p>
            <p>
                We worked with features regarding nutriments, such as energy per a 100g and sugars per a 100g, as well as product names and food categories. Names and
                food categories was used to categorize the data so we could compare nutritional values between the two countries with products in the same category.
                This was to make sure the comparisions would make sense: comparing the sugar content of a lollipop from the USA with the sugar content of a soup from
                France would not give a true image of our data.
            </p>
            <p>
                While the open nature of the database generates a lot of data, the contributions are, as of yet, not automatically checked. This generates a lot of
                missing values in the dataset, as well as errors and inconsistencies. Our process for cleaning the data was:
            </p>
            <ul>
                <li>Remove all rows in which all columns had no values</li>
                <li>Remove all rows where no product name or product category was defined</li>
                <li>Set all nutriments to be a value between 0 and 100</li>
            </ul>
            <p>
                The last point was important because no nutriment can be more than a 100% of a product. Since each nutriment is defined per 100g, we set that the
                range should be between 0 and a 100. The only nutriment feature we did not do this for was energy_100g, as energy can be more than a 100 for a 100g.
            </p>
            <h3>Food categories</h3>
            <p>
                To compare different kinds of food, we created food categories. These were based on categories in the dataset that we decided to compile together.
                Our five categories are:
            </p>
            <ul>
                <li>Fats</li>
                <li>Meat, poultry, fish</li>
                <li>Dairy</li>
                <li>Bread</li>
                <li>Snacks</li>
            </ul>
            <p>
                Some of these categories are divided in to subcategories as well, for example the category Snacks is divided in to the subcategories Sugary snacks and
                Salty snacks. For each category, we have chosen different nutriments to focus on, such as sugars per 100g for Sugary snacks.
            </p>
            <p>
                To classify our data into categories, we needed to define what kind of products that matched each category. Let's look at the category Fats as an
                example. First, we defined words that are associated with fats, such as butter and oil. We also made sure to use both English and French words to make
                sure to get as many matches as possible. Then, both datasets were queried to see the results of the filtering. If the results contained products we did
                not want, we defined words that were not fats. As an example, popcorn contains butter, but is not in itself a fat, so we filtered away all rows which
                had the word popcorn in the product name or category type.
            </p>
            <p>
                We will visualize the categories, their distribution and nutriment values to investigate what the products contain. France is represented by the color
                blue and the USA by the color red.
            </p>
            <p style="color: red">Behövs någon form av vidareledning in till visualiseringen av kategorierna</p>

        </div>
    </div>
    <div class="parralax" id="round1"></div>
    <div class="content">  
        <div id="fats">
            <h2>Fats</h2>
            <p>Short info about the catogory </p>
            <figure class ="distributionFigure">
                <embed type="image/svg+xml" src="img/fats_distribution.svg" />
            </figure>
            <p>What kind of fats? </p>
            <div class="nutri-dropdown">
                <button class="dropbtn">
                    Different fats
                </button>
                <div class="dropdown-content-nutri">
                    <a onclick="showPlot('fats_saturated-fat','fatsPlots')">Saturated fat</a>
                    <a onclick="showPlot('fats_monounsaturated-fat','fatsPlots')">Monusaturated fat</a>
                    <a onclick="showPlot('fats_polyunsaturated-fat','fatsPlots')">Polyunsaturated fat</a>
                </div>
            </div>

            <div class="plot-container">
                <figure class ="plots fatsPlots" id="fats_saturated-fat">
                    <embed type="image/svg+xml" src="img/fats_saturated-fat.svg" />
                </figure>
        
                <figure class ="plots fatsPlots" id="fats_monounsaturated-fat">
                    <embed type="image/svg+xml" src="img/fats_monounsaturated-fat.svg" />
                </figure>
            
                <figure class ="plots fatsPlots" id="fats_polyunsaturated-fat">
                    <embed type="image/svg+xml" src="img/fats_polyunsaturated-fat.svg" />
                </figure>
             </div>
            
                   

        </div>
    </div>
    <div class="parralax" id="round2"></div>
    <div class="content">
        <div id="meat">
            <h2>Meat Poultry Fish</h2>
            sdklf sdklfdsklsdklsd dskflsdfkld fsdlds nd sdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds nd

        </div>
    </div>
    <div class="parralax" id="round3"></div>
    <div class="content">
        <div id="dairy">
            <h2>Dairy</h2>
            sdklf sdklfdsklsdklsd dskflsdfkld fsdlds nd sdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds ndsdklf sdklfdsklsdklsd dskflsdfkld fsdlds nd

        </div>
    </div>
    <div class="parralax" id="round4"></div>
    <div class="content">
        <div id="bread">
            <h2>Bread</h2>
        </div>
    </div>
    <div class="parralax" id="round5"></div>
    <div class="content">
        <div id="snacks">
            <h2>Snacks</h2>
            <p>
                This category is divided in to two subcategories, Sugary snacks and Salty snacks. These also have smaller categories within themselves, such as
                Chocolates in Sugary snacks.
            </p>
            <h3>Sugary snacks</h3>
            <div class="distribution-div">            
                <figure class="distribution-fig">
                    <embed type="image/svg+xml" src="img/sugary_snacks_distribution.svg" />
                </figure>
                <p class="distribution-description">
                    In the graph the distribution of the subcategories in Sugary snacks is shown. As we can see, Chocolates are in the majority for both countries.
                    However France still has a higher percentage of Chocolates than the USA does. 
                </p>
                <p class="distribution-description">
                    Candy is the smallest category for both countries, which might have something to do with that we filtered out all candy with chocolate from the
                    category...
                </p>
                <p class="distribution-description">
                    Hover over the bars to see the exact percentage of each category!
                </p>
            </div>
            <p>
                For sugary snacks, we looked closer at the feature sugars per 100g and energy per 100g. Note that a maximum of 100 in the boxplot comes from higher
                values that were sampled down to 100.
            </p>

            <div class="nutri-dropdown">
                <button onclick="nutriFunc" class="dropbtn" >
                    Nutriments
                </button>
                <div class="dropdown-content-nutri">
                    <a onclick="showPlot('snacks_sugary_sugars','snacksPlots')">Sugars</a>
                    <a onclick="showPlot('snacks_sugary_carbohydrates','snacksPlots')">Carbohydrates</a>
                    <a onclick="showPlot('snacks_sugary_servings','snacksPlots')">Serving quantity</a>
                    <a onclick="showPlot('snacks_sugary_energy_france','snacksPlots')">Energy France</a>
                    <a onclick="showPlot('snacks_sugary_energy_usa','snacksPlots')">Energy USA</a>
                </div>
            </div>

            <div class="plot-container">
                <figure class="plots snacksPlots"   id="snacks_sugary_sugars">
                        <embed type="image/svg+xml" src="img/snacks_sugars.svg" />
                </figure>
                <figure class="plots snacksPlots"   id="snacks_sugary_carbohydrates">
                        <embed type="image/svg+xml" src="img/snacks_sugary_carbohydrates.svg" />
                </figure>
                <figure class="plots snacksPlots"   id="snacks_sugary_servings">
                        <embed type="image/svg+xml" src="img/snacks_sugary_servings.svg" />
                </figure>
                <figure class ="plots snacksPlots" id="snacks_sugary_energy_france">
                    <embed type="image/svg+xml" src="img/energy_sugary_snacks_france_hist.svg" />
                </figure>
                <figure class ="plots snacksPlots" id="snacks_sugary_energy_usa">
                    <embed type="image/svg+xml" src="img/energy_sugary_snacks_usa_hist.svg" />
                </figure>
             </div>


            <p>
                Hovering over the boxes in the boxplot will show facts about the nutriment. If we choose sugars per 100g, we will see that the maximum amount for
                both France and USA is 100. The most interesting part is not the outliers, which are the dots outside the boxes, but rather the values within the box.
                USA has in general higher sugar per 100g than France does, but the difference is minimal.
            </p>
            <h3>Salty snacks</h3>
            <div class="distribution-div">            
                <figure class="distribution-fig">
                    <embed type="image/svg+xml" src="img/salty_snacks_distribution.svg" />
                </figure>
                <p class="distribution-description">
                    The distribution of the subcategories in Salty snacks is shown in the graph. Compared to Sugary snacks, we only defined two subcategories. USA
                    has more Salty snacks than France in general. Chips is the largest category for both countries.
                </p>
                <p class="distribution-description">
                    Hover over the bars to see the exact percentage of each category for the different countries.
                </p>
            </div>
            <p>Different nutriments wooo</p>
            <div class="nutri-dropdown">
                <button onclick="nutriFunc" class="dropbtn" >
                    Nutriments
                </button>
                <div class="dropdown-content-nutri">
                    <a onclick="showPlot('snacks_salty_sodium','snacks_saltyPlots')">Sodium</a>
                    <a onclick="showPlot('snacks_salty_fats','snacks_saltyPlots')">Fats</a>
                    <a onclick="showPlot('snacks_salty_saturated_fats','snacks_saltyPlots')">Saturated fats</a>
                    <a onclick="showPlot('snacks_salty_carbohydrates','snacks_saltyPlots')">Carbohydrates</a>
                    <a onclick="showPlot('snacks_salty_servings','snacks_saltyPlots')">Serving quantity</a>
                    <a onclick="showPlot('snacks_salty_energy_france','snacks_saltyPlots')">Energy France</a>
                    <a onclick="showPlot('snacks_salty_energy_usa','snacks_saltyPlots')">Energy USA</a>
                </div>
            </div>

            <div class="plot-container">
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_sodium">
                        <embed type="image/svg+xml" src="img/snacks_salty_sodium.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_fats">
                        <embed type="image/svg+xml" src="img/snacks_salty_fats.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_saturated_fats">
                        <embed type="image/svg+xml" src="img/snacks_salty_saturated_fats.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_carbohydrates">
                        <embed type="image/svg+xml" src="img/snacks_salty_carbohydrates.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_servings">
                        <embed type="image/svg+xml" src="img/snacks_salty_servings.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_energy_france">
                        <embed type="image/svg+xml" src="img/energy_salty_snacks_france_hist.svg" />
                </figure>
                <figure class="plots snacks_saltyPlots"   id="snacks_salty_energy_usa">
                        <embed type="image/svg+xml" src="img/energy_salty_snacks_usa_hist.svg" />
                </figure>
            </div>

        </div>
        <hr>
        <div id="goal">
            <h2>Who won</h2>
        </div>

    </div>
</body>
<script src="js/script.js"></script>